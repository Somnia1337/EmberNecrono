2022/10/14

[[NOIP2011 普及组] 统计单词数 - 洛谷](https://www.luogu.com.cn/problem/P1308)

```c
#include <stdio.h>

char W[1000002];

int main()
{
	char T[11];
	char a;
	int i, j, k, l, w, s, c = 0, f = -1, S = 0;
	a = getchar();
	for (i = 0; a >= 65 && a <= 90 || a >= 97 && a <= 122; i++)
	{
		T[i] = a;
		a = getchar();
	}
	k = i--;
	a = getchar();
	for (i = 0; a != EOF; i++)
	{
		W[i] = a;
		a = getchar();
	}
	j = i;
	for (i = 0; i < j; i++)
	{
		if (i == 0)
		{
			l = i;
			w = 0;
			while (W[l] == T[w] || W[l] == T[w] - 32 || W[l] == T[w] + 32)
			{
				l++, w++;
			}
			if (W[l] == ' ' || l == j)
			{
				if (l == k)
				{
					f = i;
					c++;
					S = 1;
				}
			}
		}
		else if (W[i] == ' ' && W[i + 1] != ' ')
		{
			i++;
			l = i;
			w = 0;
			while (W[l] == T[w] || W[l] == T[w] - 32 || W[l] == T[w] + 32)
			{
				l++, w++;
			}
			if (W[l] == ' ' || l == j)
			{
				if (w == k)
				{
					c++;
					S = 1;
					if (f == -1)
					{
						f = i;
					}
				}
			}
		}
	}
	if (S == 0)
	{
		printf("-1");
	}
	else
	{
		printf("%d %d", c, f);
	}

	return 0;
}
```

这是一道坑很多的题

1. 需要区分单词，目标字段的前后都必须是空格（除了首尾两个词）

2. 单词之间可能不止一个空格（下载数据点信息看到的）

3. 首词前面没有空格、尾词后面没有空格，需要单独讨论，而且首词也可能是尾词

4. 大小写不限

5. 首次出现目标词的位置可能是0，所以 f 应初始化为-1