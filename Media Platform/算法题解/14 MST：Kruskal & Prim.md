## 1135. æœ€ä½æˆæœ¬è¿é€šæ‰€æœ‰åŸå¸‚

#### å‰è¨€

ã€ŒåŠ›æ‰£é¢˜è§£ã€ç³»åˆ—è‡´åŠ›äºåˆ†äº«æœ‰ä»·å€¼çš„é¢˜ç›®ã€æ¢è®¨æ›´ä¼˜ç§€çš„è§£æ³•ã€‚

è¿™æ˜¯æœ¬ç³»åˆ—çš„ç¬¬ 14 ç¯‡é¢˜è§£ï¼Œæ›´å¤šé¢˜è§£å…³æ³¨ Somnia1337@åŠ›æ‰£ã€‚

#### é¢˜ç›®æè¿°

> éš¾åº¦ï¼šğŸŸ¡ä¸­ç­‰
>
> æ ‡ç­¾ï¼š\#å¹¶æŸ¥é›† \#å›¾ \#æœ€å°ç”Ÿæˆæ ‘ \#å †

æƒ³è±¡ä½ æ˜¯åŸå¸‚åŸºå»ºè§„åˆ’è€…ï¼Œåœ°å›¾ä¸Šæœ‰Â `n`Â åº§åŸå¸‚ï¼Œå®ƒä»¬çš„ç¼–å·ä¸ºÂ `1`Â åˆ°Â `n`ã€‚

ç»™ä½ æ•´æ•°Â `n`Â å’Œä¸€ä¸ªæ•°ç»„Â `conections`ï¼Œå…¶ä¸­Â `connections[i] = [xi,yi,costi]` è¡¨ç¤ºå°†åŸå¸‚Â `xi`Â å’ŒåŸå¸‚Â `yi`Â è¿æ¥çš„èŠ±è´¹ä¸º `costi`ï¼ˆ**è¿æ¥æ˜¯åŒå‘çš„**ï¼‰ã€‚

è¿”å›è¿æ¥æ‰€æœ‰åŸå¸‚çš„ **æœ€ä½æˆæœ¬**ï¼Œæ¯å¯¹åŸå¸‚ä¹‹é—´ **è‡³å°‘** æœ‰ä¸€æ¡è·¯å¾„ã€‚å¦‚æœæ— æ³•è¿æ¥æ‰€æœ‰Â `n`Â ä¸ªåŸå¸‚ï¼Œè¿”å›Â `-1`ã€‚

è¯¥Â **æœ€å°æˆæœ¬**Â åº”è¯¥æ˜¯æ‰€ç”¨å…¨éƒ¨è¿æ¥æˆæœ¬çš„æ€»å’Œã€‚

![[@2024.01.05-é¢˜ç›®æè¿°.png]]

```text
è¾“å…¥: n=3, conections=[[1,2,5],[1,3,6],[2,3,1]]
è¾“å‡º: 6
è§£é‡Š: é€‰å‡ºä»»æ„ 2 æ¡è¾¹éƒ½å¯ä»¥è¿æ¥æ‰€æœ‰åŸå¸‚, æˆ‘ä»¬ä»ä¸­é€‰å–æˆæœ¬æœ€å°çš„ 2 æ¡
```

#### è§£é¢˜æ€è·¯

è¿™æ˜¯ä¸€ä¸ªæ±‚ MSTï¼ˆMinimum Spanning Treeï¼Œæœ€å°ç”Ÿæˆæ ‘ï¼‰çš„è£¸é¢˜ï¼Œä¸¤ä¸ªç»å…¸ç®—æ³•æ˜¯ *Kruskal ç®—æ³•* å’Œ *Prim ç®—æ³•*ã€‚

ç®€å•çš„ $n$ é˜¶è¿é€šå›¾çš„ MST åŒ…å« $n - 1$ æ¡è¾¹ã€‚

##### Kruskal ç®—æ³•

ã€Œæ•°æ®ç»“æ„ä¸ç®—æ³•åˆ†æã€P407 / ã€Œç¦»æ•£æ•°å­¦ã€P150

æ€æƒ³ï¼šæŒ‰æƒä»å°åˆ°å¤§åŠ å…¥è¾¹ï¼ˆè´ªå¿ƒï¼‰ã€‚

è¿‡ç¨‹ï¼š

1. å°†æ‰€æœ‰è¾¹æŒ‰æƒé‡ä»å°åˆ°å¤§æ’åˆ—ã€‚
2. æŒ‰åºéå†è¿™äº›è¾¹ï¼Œå¯¹æ¯æ¡è¾¹ $e$ è¿›è¡Œåˆ¤æ–­ï¼Œå¦‚æœåœ¨å›¾ä¸­åŠ å…¥ $e$ ä¸ä¼šç”Ÿæˆç¯ï¼Œåˆ™åŠ å…¥ $e$ï¼Œå¦åˆ™è·³è¿‡ $e$ã€‚
3. é‡å¤ 2ï¼Œç›´åˆ°é€‰å‡º $n - 1$ æ¡è¾¹ã€‚

è¿‡ç¨‹ä¸­ï¼Œåˆ¤ç¯çš„æ–¹æ³•æ˜¯ä½¿ç”¨å¹¶æŸ¥é›†ç»´æŠ¤ç»“ç‚¹ä¹‹é—´çš„è¿é€šæ€§ï¼Œå¦‚æœä¸¤ä¸ªç»“ç‚¹ $u$ï¼Œ$v$ å·²ç»è¿é€šï¼Œåˆ™åŠ å…¥è¾¹ $(u, v)$ å°†å¯¼è‡´ç¯ã€‚

å¹¶æŸ¥é›†çš„ä½¿ç”¨ ğŸ‘‡

[å¹¶æŸ¥é›†ï¼šâ€œå›¾â€ä¸â€œç­‰ä»·ç±»â€æ˜¯å¦‚ä½•ç»“åˆçš„](https://mp.weixin.qq.com/s/Wv-5jt9t1Zo1CZhTiX9R7g)

```java
class Solution {
    public int minimumCost(int n, int[][] connections) {
        // æŒ‰æƒæ’åº
        Arrays.sort(connections, Comparator.comparingInt(a -> a[2]));
        // æ¯ä¸ªç»“ç‚¹æ‰€å±æ”¯çš„æ ¹ (ç”¨äºå¹¶æŸ¥é›†)
        int[] root = new int[n + 1];
        for (int i = 1; i <= n; i++) root[i] = i;
        int cnt = 0, ans = 0; // cnt: å·²é€‰æ‹©è¾¹æ•°
        for (int[] c : connections) {
            // ä¼šæˆç¯, è·³è¿‡
            if (find(root, c[0]) == find(root, c[1])) continue;
            union(root, c[0], c[1]); // åˆå¹¶
            ans += c[2];
            if (++cnt == n - 1) break; // é€‰å¤Ÿäº†
        }
        return cnt == n - 1 ? ans : -1; // æ²¡é€‰å¤Ÿ, è¿”å› -1
    }
	
    // å¹¶æŸ¥é›†
    private int find(int[] root, int i) {
        while (root[i] != i) {
            root[i] = root[root[i]];
            i = root[i];
        }
        return i;
    }
	
    private void union(int[] root, int x, int y) {
        root[find(root, x)] = find(root, y);
    }
}
```

##### Prim ç®—æ³•

ã€Œæ•°æ®ç»“æ„ä¸ç®—æ³•åˆ†æã€P404

æ€æƒ³ï¼šä»ä¸€ä¸ªç»“ç‚¹å¼€å§‹ï¼Œæ¯æ¬¡åŠ å…¥ç¦»å·²è¿é€šéƒ¨åˆ†æœ€è¿‘çš„ç‚¹ï¼Œå¹¶æ›´æ–°å‰©ä½™ç‚¹çš„æœ€çŸ­è·ç¦»ã€‚

è¿‡ç¨‹ï¼š

1. é€‰æ‹©ä¸€ä¸ªèµ·å§‹ç»“ç‚¹ï¼Œå°†å…¶æ ‡è®°ä¸ºå·²è®¿é—®ã€‚
2. ç”¨ä¸€ä¸ªæœ€å°å †ç»´æŠ¤å·²è¿é€šéƒ¨åˆ†åˆ°æœªè®¿é—®ç»“ç‚¹çš„æœ€çŸ­è·ç¦»ï¼Œå°†èµ·å§‹ç»“ç‚¹çš„æ‰€æœ‰é‚»è¾¹å…¥å †ã€‚
3. å°†æƒæœ€å°çš„è¾¹å‡ºå †ï¼ˆè¯¥è¾¹çš„ä¸¤ä¸ªç«¯ç‚¹åˆ†åˆ«å±äºå·²è¿é€šå’Œæœªè®¿é—®é›†åˆï¼‰ã€‚
4. åŠ å…¥è¯¥æœªè®¿é—®ç»“ç‚¹ï¼Œå¹¶å°†å…¶æ‰€æœ‰é‚»è¾¹å…¥å †ã€‚
5. é‡å¤ 3ã€4ï¼Œç›´åˆ°é€‰å‡º $n - 1$ æ¡è¾¹ã€‚

```java
class Solution {
    public int minimumCost(int n, int[][] connections) {
        // é‚»æ¥é“¾è¡¨, å­˜å‚¨ {ç›¸é‚»ç»“ç‚¹, è·ç¦»}
        List<Integer[]>[] dist = new List[n + 1];
        Arrays.setAll(dist, e -> new ArrayList<>());
        for (int[] c : connections) {
            dist[c[0]].add(new Integer[]{c[1], c[2]});
            dist[c[1]].add(new Integer[]{c[0], c[2]});
        }
		
        // è®°å½•æ¯ä¸ªç»“ç‚¹æ˜¯å¦å·²ç»é€‰æ‹©
        boolean[] vis = new boolean[n + 1];
        Queue<Integer[]> pq = new PriorityQueue<>(Comparator.comparingInt(a -> a[1]));
        pq.add(new Integer[]{1, 0});
		
        int cnt = 0, ans = 0; // cnt: å·²é€‰æ‹©ç»“ç‚¹æ•°
        while (!pq.isEmpty() && cnt < n) {
            Integer[] p = pq.poll();
            if (!vis[p[0]]) {
                vis[p[0]] = true;
                cnt++;
                ans += p[1];
                pq.addAll(dist[p[0]]); // æ›´æ–°æœ€çŸ­è·ç¦»
            }
        }
        return cnt == n ? ans : -1;
    }
}
```

#### ç›¸å…³é¢˜ç›®

##### 1584. è¿æ¥æ‰€æœ‰ç‚¹çš„æœ€å°è´¹ç”¨

\#å¹¶æŸ¥é›† \#æ•°ç»„ \#å›¾ \#æœ€å°ç”Ÿæˆæ ‘

#### æœ€å

æ›´å¤šç³»åˆ—ã€Œå¤–æºæ¨æ–‡ã€&ã€Œç”Ÿæ´»åˆ†äº«ã€å…³æ³¨å…¬ä¼—å·ï¼š