### [5-1](https://mooc1.chaoxing.com/mooc-ans/mooc2/work/preview?courseId=240832925&classId=92306555&cpi=266037146&workId=35133427&enc=165577a0d4f35ba7bbb5e6e58ca11824)

Suppose nodes A and B are on the same 10 Mbps Ethernet bus, and the propagation delay between the two nodes is 225 bit times.

Suppose A and B send frames at the same time, the frames collide, and then A and B choose different values of K in the CSMA/CD algorithm.

Assuming no other nodes are active, can the retransmissions from A and B collide?

For our purposes, it suffices to work out the following example.

Suppose A and B begin transmission at t = 0 bit times. They both detect collisions at t = 225 bit times. They finish transmitting a jam signal at t = 225+48=273 bit times. Suppose KA = 0 and KB = 1. At what time does B schedule its retransmission? At what time does A begin transmission? (Note :The nodes must wait for an idle channel after returning to Step 2 –see protocol. ) At what time does A's signal reach B? Does B refrain from transmitting at its scheduled time.

```text
B 计划于 273 + 1 * 512 = 785 进行重传，而 A 于 273 + 0 + 96 = 369 重传，这一重传信号于 369 + 225 = 594 到达 B 处，早于计划时间 785，因此不会碰撞
```

Suppose nodes A and B are on the same 10Mbps Ethernet bus, and the propagation delay between the two nodes is 225 bit times. Suppose node A begins transmitting a frame and, before it finishes, node B begins transmitting a frame. Can A finish transmitting before it detects that B has transmitted? Why or why not? If the answer is yes, then A incorrectly believes that its frame was successfully transmitted without a collision.

Hint: Suppose at time t = 0 bit times, A begins to transmitting a frame. In the worst case, A transmits a minimum-sized frame of 512+64 bit times. So A would finish transmitting the frame at t = 512 +64 bit times. Thus, the answer is no, if B’s signal reaches A before bit time t= 512+64 bits. In the worst case, when does B’s signal reach A?

```text
A 预计于 0 + 576 = 576 时刻完成传输，第一个比特于 225 时刻到达 B 处，在最坏情况下，B 于 224 时刻开始传输，B 的第一个比特于 224 + 225 = 449 时刻到达 A 处，早于 A 的计划完成时刻 576，因此 A 会在传输完成前检测到 B 已经开始传输
```

### [5-2](https://mooc1.chaoxing.com/mooc-ans/mooc2/work/dowork?courseId=240832925&classId=92306555&cpi=266037146&workId=35286319&answerId=53146364&standardEnc=b31f5ff735ae212dc6a8dcdb349b5602&enc=07c5117f87a3b701598803a7be65aa35)

\#23

```text
a) ip_src = 111.111.111.111, ip_dest = 222.222.222.222
b) mac_dest = E6-E9-00-17-BB-4B
c) ip_dest = 111.111.111.112, mac_dest = CC-49-DE-D0-AB-7D
d) 计算 `ip_dest & mask`, 判断二者是否在同一子网内,
   mac_dest = (在同一子网内 ? 目标 : 第一跳路由器) 的 MAC 地址
```

\#24

a)

| `mac_src`           | `mac_dest`          | `ip_src`      | `ip_dest`         |
| ------------------- | ------------------- | ------------- | ----------------- |
| `66-66-66-66-66-66` | `FF-FF-FF-FF-FF-FF` | `0.0.0.0`     | `255.255.255.255` |
| `33-33-33-33-33-33` | `FF-FF-FF-FF-FF-FF` | `192.168.1.1` | `255.255.255.255` |
| `66-66-66-66-66-66` | `FF-FF-FF-FF-FF-FF` | `0.0.0.0`     | `255.255.255.255` |
| `33-33-33-33-33-33` | `FF-FF-FF-FF-FF-FF` | `192.168.1.1` | `255.255.255.255` |

b)

| 包                    | `mac_src`           | `mac_dest`          | `ip_src`      | `ip_dest`     |
| -------------------- | ------------------- | ------------------- | ------------- | ------------- |
| DNS<br>查询            | `44-44-44-44-44-44` | `33-33-33-33-33-33` | `192.168.1.4` | `192.168.1.2` |
| DNS<br>回复            | `33-33-33-33-33-33` | `44-44-44-44-44-44` | `192.168.1.2` | `192.168.1.4` |
| 查询                   | `66-66-66-66-66-66` | `33-33-33-33-33-33` | `192.168.1.4` | `192.168.1.1` |
| 查询<br>(转发给<br>proxy) | `33-33-33-33-33-33` | `55-55-55-55-55-55` | `192.168.1.4` | `192.168.1.1` |
| 回复<br>(来自<br>proxy)  | `55-55-55-55-55-55` | `33-33-33-33-33-33` | `192.168.1.4` | `192.168.1.1` |
| 查询<br>(转发给<br>scu)   | `33-33-33-33-33-33` | `11-11-11-11-11-11` | `192.168.1.4` | `192.168.1.1` |
| 回复<br>(来自<br>scu)    | `11-11-11-11-11-11` | `33-33-33-33-33-33` | `192.168.1.1` | `192.168.1.4` |
| 回复<br>(转发给<br>host)  | `33-33-33-33-33-33` | `66-66-66-66-66-66` | `192.168.1.1` | `192.168.1.4` |
| 回复<br>(转发给<br>proxy) | `33-33-33-33-33-33` | `55-55-55-55-55-55` | `192.168.1.1` | `192.168.1.4` |

\#25

```text
action: 洪泛(输出到除来源接口外的所有接口)
R1 也会收到, 但不会转发给子网 3, 而是会丢弃
B 不会发回一个 ARP 查询, 因为它自学习了 mac_A ?
S1 会将其转发到 A
```

\#26

```text
总吞吐量为 110 Mbps, 因为交换机支持同时上下行
```

\#27

```text
总吞吐量为 50 Mbps, 因为集线器不支持同时上下行
```