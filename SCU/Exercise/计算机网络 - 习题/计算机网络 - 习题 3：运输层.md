### [GBN/SR](https://mooc1.chaoxing.com/mooc-ans/mooc2/work/view?courseId=240832925&classId=92306555&cpi=266037146&workId=34075271&answerId=52982944&enc=be76ee3f7d2c777141dd995209710199)

> 采用 *回退 N 步*，`N = 5`，试描述以下三种假设下可能发生的情况：

1\. 源发送 5 个分组，若第 `1` 个分组 **丢失**。

接收方接收到分组 `2`~`5`，分别丢弃并且不返回任何 *ACK*，发送方等待超时后重新发送分组 `1`~`5`。

2\. 接收方返回的第一个 *ACK* 丢失

发送方接收到 *ACK* `2`~`5`，等待超时后重新发送分组 `1`~`5`。

3\. 发送方尝试发送 6 个分组

尝试发送第 `6` 个分组前，发送方必须确认收到了 *ACK* `1`（随后才能将分组 `1` 滑出、将分组 `6` 滑进窗口）。

> 采用 *选择重传*，`N = 5`，试描述以下三种假设下可能发生的情况：

1\. 源发送 5 个分组，若第 `1` 个分组丢失。

接收方接收到分组 `2`~`5`，分别缓存并且返回 *ACK* `2`~`5`，发送方等待超时后重新发送分组 `1`。

2\. 接收方返回的第一个 *ACK* 丢失

发送方接收到 *ACK* `2`~`5`，等待超时后重新发送分组 `1`。

3\. 发送方尝试发送 6 个分组

尝试发送第 `6` 个分组前，发送方必须确认收到了 *ACK* `1`（随后才能将分组 `1` 滑出、将分组 `6` 滑进窗口）。

3\.

| Time | Send | Recv | Time | Send | Recv |
| ---- | ---- | ---- | ---- | ---- | ---- |
| 0    | 1    |      | 220  |      |      |
| 10   | 2    |      | 230  | 8    | 6*   |
| 20   | 3    |      | 240  | 9    | 7*   |
| 30   |      |      | 250  | 10   |      |
| 40   | 4    | 1    | 260  |      | 5*   |
| 50   | 5    | 2    | 270  |      |      |
| 60   | 6    | 3    | 280  |      | 9    |
| 70   |      |      | 290  |      | 10   |
| 80   | 7    | 4    | 300  |      |      |
| 90   |      |      | 310  |      |      |
| 100  |      | 4    | 320  |      |      |
| 110  |      |      | 330  |      |      |
| 120  |      | 4    | 340  |      |      |
| 130  |      |      | 350  |      |      |
| 140  |      |      | 360  |      |      |
| 150  |      |      | 370  |      |      |
| 160  |      |      | 380  |      |      |
| 170  |      |      | 390  |      |      |
| 180  | 5*   |      | 400  |      |      |
| 190  | 6*   |      | 410  |      |      |
| 200  | 7*   |      | 420  |      |      |
| 210  |      |      | 430  |      |      |

4\.

| Time | Send | Recv | Time | Send | Recv |
| ---- | ---- | ---- | ---- | ---- | ---- |
| 0    | 1    |      | 220  |      |      |
| 10   | 2    |      | 230  |      |      |
| 20   | 3    |      | 240  |      | 9    |
| 30   |      |      | 250  | 8*   | 10   |
| 40   | 4    | 1    | 260  |      |      |
| 50   | 5    | 2    | 270  |      |      |
| 60   | 6    | 3    | 280  |      |      |
| 70   |      |      | 290  |      | 8*   |
| 80   | 7    | 4    | 300  |      |      |
| 90   |      |      | 310  |      |      |
| 100  |      | 6    | 320  |      |      |
| 110  | 5*   |      | 330  |      |      |
| 120  |      | 7    | 340  |      |      |
| 130  |      |      | 350  |      |      |
| 140  |      |      | 360  |      |      |
| 150  |      |      | 370  |      |      |
| 160  |      |      | 380  |      |      |
| 170  | 5**  |      | 390  |      |      |
| 180  |      |      | 400  |      |      |
| 190  | 8    | 5*   | 410  |      |      |
| 200  | 9    |      | 420  |      |      |
| 210  | 10   | 5**  | 430  |      |      |

5\.

| Time | Send | Recv | Time | Send | Recv |
| ---- | ---- | ---- | ---- | ---- | ---- |
| 0    | 1    |      | 220  | 8    | 6*   |
| 10   | 2    |      | 230  | 9    |      |
| 20   | 3    |      | 240  |      | 4*   |
| 30   |      |      | 250  |      |      |
| 40   | 4    | 1    | 260  | 10   | 8    |
| 50   | 5    | 2    | 270  |      | 9    |
| 60   | 6    | 3    | 280  |      |      |
| 70   |      |      | 290  |      |      |
| 80   |      |      | 300  |      | 10   |
| 90   |      | 3    | 310  |      |      |
| 100  |      | 3    | 320  |      |      |
| 110  |      |      | 330  |      |      |
| 120  |      |      | 340  |      |      |
| 130  |      |      | 350  |      |      |
| 140  |      |      | 360  |      |      |
| 150  |      |      | 370  |      |      |
| 160  | 4*   |      | 380  |      |      |
| 170  | 5*   |      | 390  |      |      |
| 180  | 6*   |      | 400  |      |      |
| 190  |      |      | 410  |      |      |
| 200  |      |      | 420  |      |      |
| 210  | 7    | 5*   | 430  |      |      |

6\.

| Time | Send | Recv | Time | Send | Recv |
| ---- | ---- | ---- | ---- | ---- | ---- |
| 0    | 1    |      | 220  |      |      |
| 10   | 2    |      | 230  |      | 8    |
| 20   | 3    |      | 240  | 7*   | 9    |
| 30   |      |      | 250  |      |      |
| 40   | 4    | 1    | 260  |      |      |
| 50   | 5    | 2    | 270  |      |      |
| 60   | 6    | 3    | 280  | 10   | 7*   |
| 70   |      |      | 290  |      |      |
| 80   |      |      | 300  |      |      |
| 90   |      | 5    | 310  |      |      |
| 100  | 4*   | 6    | 320  |      | 10   |
| 110  |      |      | 330  |      |      |
| 120  |      |      | 340  |      |      |
| 130  |      |      | 350  |      |      |
| 140  |      |      | 360  |      |      |
| 150  |      |      | 370  |      |      |
| 160  | 4**  |      | 380  |      |      |
| 170  |      |      | 390  |      |      |
| 180  | 7    | 4*   | 400  |      |      |
| 190  | 8    |      | 410  |      |      |
| 200  | 9    | 4**  | 420  |      |      |
| 210  |      |      | 430  |      |      |

> 7\. skipped

### [TCP](https://mooc1.chaoxing.com/mooc-ans/mooc2/work/dowork?courseId=240832925&classId=92306555&cpi=266037146&workId=34502016&answerId=53027296&standardEnc=441252b246fc2a87bd5d74cdf4601567&enc=c26b772706c3c778201f3edee9074acf)

Which of the following services is not provided by TCP? **Delay guarantee and bandwidth guarantee**

These two minimal transport-layer services **process-to-process data delivery** and **error checking** are the only two services that UDP provides.

UDP offers which of the following benefits relative to TCP? **UDP consumes fewer computer resources by not maintaining connection state.**

Which of the following applications normally uses UDP services? **streaming multimedia**

The following four descriptions about multiplexing and demultiplexing, which one is correct? **If two UDP segments have different source port numbers, they may be directed to the same destination process.**

Port number's scope is **0** to **65535**.

The port numbers ranging from **0** to **1023** are called well-known port number and are restricted.

The UDP header has only four fields, which are **`source port number`, `destination port number`, `length` and `checksum`**.

The field of Length in UDP segment specifies the length of **the UDP segment, including the header**.

Which of the following about TCP connection is NOT correct? **It is a broadcast connection.**

In the following four descriptions about *MSS* and *MTU*, which one is NOT correct? **The *MSS* is the maximum size of the TCP segment including headers.**

> *MSS* 不包含 TCP 头部长度。

The **ACK number** is the byte sequence numbers of next byte expected from other side.

In the following four options, which one is correct? **The variations in the *SampleRTT* are smoothed out in the computation of the *EstimatedRTT*.**

Provided $\alpha = 0.125$, current value of *EstimatedRTT* is $0.4$ s, *SampleRTT* is $0.8$ s, then the new value of *EstimatedRTT* is **$0.45$** s.

> $\rm EstimatedRTT_{new} = (1 - \alpha) \cdot EstimatedRTT_{old} + \alpha \cdot SampleRTT$

There are two 16-bit integers: `1110 0110 0110 0110`, `1101 0101 0101 0101`. Their checksum is **`0100010001000011`**.

Suppose host A sends host B one TCP segment with sequence number `400`, acknowledgement number `360` , and `4` bytes of data. Then the sequence number in the acknowledgement to this segment is **`404`**.

Which of the following is not a pipelining protocol. **Rdt 1.0**

What is the main difference between stop-and-wait and pipelined reliable data transfer protocol? **With the pipelined protocol, the sender can send several packets in row, whereas in the stop-and-wait protocol the sender cannot send the packets in row.**

Fast retransmit means in the case that **3** duplicate ACKs are received, the TCP sender resend segment before timer expires.

**Flow control** is a speeding-matching service - matching the rate which the sender is sending against the rate at which the receiving application is reading.

TCP provides flow control by having the sender maintain a variable called the **receive window**.

Provided `RcvBuffer = 30`, `LastByteRcvd = 20`, `LastByteRead = 15`, then `RcvWindow =` **`25`**.

> $\rm RcvWindow = RcvBuffer - [LastByteRcvd - LastByteRead]$

In the following four descriptions about TCP connection management, which one is NOT correct? **In the three segments of the three-way handshake, the SYN bit must be set to `1`.**

> *三次握手* 的前 2 次中 `SYN = 1`，第 3 次 `SYN = 0`。

There are two states in TCP congestion control, which are ***slow start* and *congestion avoidance***.

In TCP, the *timeout interval* is a function of **the *estimated RTT* at the sender**.

In a TCP connection , there is timeout event when the value of *threshold* is `32` and the size of *congestion window* is `16`. According to the TCP congestion control policy, the new value of threshold and the new size of congestion window should be **8** and **1**, respectively.

Flow control and congestion control are same at that they all limit the rate of the sender, but differ in that **flow control limits its rate by the size of `RcvWindow`, but congestion control by the traffic on the link**.

**T** The *slow start* algorithm increases a source's rate of transmission faster than "additive increase".

**F** A source’s retransmission timeout value is always set equal to the measured RTT.

**F** Congestion control reduces the transmission rate at the sender when the receiver is overloaded.

**F** Suppose that host A wants to send data over TCP to host B, and host B wants to send data to host A over TCP. Two separate TCP connections - one for each direction - are needed.

**T** The stop-and-wait protocol is highly inefficient when there is a large distance between source and destination and the transmission rate is high.