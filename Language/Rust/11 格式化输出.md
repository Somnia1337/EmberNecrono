ðŸ‘ˆ [[10 è¿”å›žå€¼å’Œé”™è¯¯å¤„ç†]]

## `{}`ï¼Œ`{:?}`ï¼Œ`{:#?}`

```rust
println!("Hello");               // => Hello
println!("Hello, {}!", "Rust");  // => Hello, Rust!
println!("The number is {}", 1); // => The number is 1
println!("{:?}", (3, 4));        // => (3, 4)
println!("{val}", val = 4);        // => 4
println!("{} {}", 1, 2);         // => 1 2
println!("{:04}", 42);           // => 0042 (å¸¦å‰å¯¼é›¶)
```

- `{}` é€‚ç”¨äºŽå®žçŽ°äº† `std::fmt::Display` ç‰¹å¾çš„ç±»åž‹ã€‚
- `{:?}` é€‚ç”¨äºŽå®žçŽ°äº† `std::fmt::Debug` ç‰¹å¾çš„ç±»åž‹ã€‚

### `Display` ç‰¹å¾

```rust
let v = vec![1, 2, 3];
let p = Person {
    name: "sunface".to_string(),
    age: 18,
};
println!("{}, {}", v, p);
```

æ— æ³•è¿‡ç¼–ï¼Œå› ä¸ºæ²¡æœ‰å®žçŽ° `Display` ç‰¹å¾ï¼Œä¹Ÿæ— æ³•åƒæ´¾ç”Ÿ `Debug` ä¸€æ ·æ´¾ç”Ÿ `Display`ï¼Œè§£å†³æ–¹æ³•ï¼š

- ä½¿ç”¨ `{:?}` æˆ– `{:#?}`ã€‚
- ä¸ºè‡ªå®šä¹‰ç±»åž‹å®žçŽ° `Display`ã€‚
- ä½¿ç”¨ `newtype` ä¸ºå¤–éƒ¨ç±»åž‹å®žçŽ° `Display`ã€‚

`{:#?}` çš„è¾“å‡ºæ ¼å¼æ›´ä¼˜é›…ï¼š

```text
[1, 2, 3] // {:?}
[
	1,
	2,
	3,
] // {:#?}
```

ä¸ºè‡ªå®šä¹‰ç±»åž‹å®žçŽ° `Display`ï¼š

```rust
struct Person {
    name: String,
    age: u8,
}

use std::fmt;
impl fmt::Display for Person {
    fn fmt(&self, f: &mut fmt::Formatter) -> fmt::Result {
        write!(f, "name={}, age={}", self.name, self.age)
    }
}

fn main() {
    let p = Person {
        name: "sunface".to_string(),
        age: 18,
    };
    println!("{}", p);
}
```

ä¸ºå¤–éƒ¨ç±»åž‹å®žçŽ° `Display`ï¼š

```rust
struct Array(Vec<i32>);

use std::fmt;
impl fmt::Display for Array {
    fn fmt(&self, f: &mut fmt::Formatter) -> fmt::Result {
        write!(f, "arr={:?}", self.0)
    }
}

fn main() {
    let arr = Array(vec![1, 2, 3]);
    println!("{}", arr);
}
```

### ä½ç½®å‚æ•°

```rust
println!("{}{}", 1, 2);       // => 12
println!("{1}{0}", 1, 2);     // => 21
println!("{0}, this is {1}. {1}, this is {0}.", "Alice", "Bob"); // => Alice, this is Bob. Bob, this is Alice.
println!("{1}{}{0}{}", 1, 2); // => 2112
```

### å…·åå‚æ•°

```rust
println!("{argument}", argument = "test");        // => test
println!("{n} {}", 1, n = 2);                     // => 2 1
println!("{a} {c} {b}", a = "a", b = 'b', c = 3); // => a 3 b
```

### æ ¼å¼åŒ–å‚æ•°

```rust
let v = 3.1415926;
println!("{:.2}", v);  // Display => 3.14
println!("{:.2?}", v); // Debug => 3.14
```

ðŸ‘‰ [[12 é—­åŒ…å’Œè¿­ä»£å™¨]]