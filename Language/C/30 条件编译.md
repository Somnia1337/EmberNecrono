### \#if

在分支结构关键词if前添加井号#，将其变为一条预处理指令。

格式：#if *条件表达式*（条件表达式==不需要括号==，随后的指令块==不需要花括号==）。

表达式==只能为常量表达式==，其内==不允许出现变量==（因为它在程序被编译前由预处理器处理，此时的变量尚未声明）（可用#define定义常量）。

由于不使用花括号，无法构成复合语句，所以==在指令块之后需要#endif来标记其结束==。

\#if和if的区别：#if属于预处理指令，在编译之前由预处理器处理，根据分支走向，保留需要走向的分支的代码，删除被跳过分支的代码。

关键词else if、else转换成预处理指令分别写作#elif、#else。

![[30-1.png|300]]

### \#ifdef、#ifndef

![[30-2.png|450]]

![[30-3.png|450]]

上例中，printNumber仅被定义，而没有替换体，这也是合法的语法。

![[30-4.png|450]]

将前例中的#ifdef改为#ifndef，代码的删除与保留与此前相反。