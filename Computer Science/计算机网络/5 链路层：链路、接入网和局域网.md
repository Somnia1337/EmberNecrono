👈 [[4 网络层]]

## 链路层概述

**结点**(node)：运行链路层协议的任何设备。

**链路**(link)：沿着通信路径连接相邻结点的通信信道。

### 链路层提供的服务

- 成帧
- 链路接入：**介质访问控制**(MAC) 规定了帧在链路上传输的规则
- 可靠交付
- 差错检测和纠正

### 链路层在何处实现

链路层的主体部分在 **网络适配器**/**网络接口卡** 中实现。

## 差错检测和纠正技术

### 奇偶校验

设实际数据有 $d$ bit，*偶校验* 是额外附加 $1$ 比特，使 $d + 1$ 比特中 `1` 的数量为偶，*奇校验* 同理。

*二维奇偶校验* 还能定位单个错误的比特。

### 检验和方法

将数据的字节视为 $16$ bit 的整数，求和后取反码作为检验和。

### 循环冗余检测

**循环冗余检测**(CRC) 编码：设要发送 $d$ 比特的数据 $D$，双方要事先商定一个 $r + 1$ bit 的 **生成多项式** $G$（要求最高位为 `1`），发送方在 $D$ 的末端附加一个 $r$ bit 的 **CRC 比特** $R$ 作为实际发送的数据 $D^\prime$，接收方计算 $D^\prime \space {\rm mod} \space G$，当且仅当结果为 $0$ 时认为传输无误。

计算 $R$：$$R = {\rm remainder}(\frac{D \cdot 2^r}{G})$$

在二进制计算过程中，所有操作均等价于 $\rm XOR$ 且无视进位：

- $1 + 1 = 0$
- $0 - 1 = 1$

*CRC* 能够测出所有连续 $r$ bit 或更少的差错。