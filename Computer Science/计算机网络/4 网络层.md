ðŸ‘ˆ [[3 è¿è¾“å±‚]]

ä¸åŒäºŽ *è¿è¾“å±‚* å’Œ *åº”ç”¨å±‚*ï¼Œç½‘ç»œä¸­çš„æ¯å°ä¸»æœºã€æ¯å°è·¯ç”±å™¨éƒ½è¿è¡Œç€ *ç½‘ç»œå±‚*ã€‚

## æ¦‚è¿°

![[ç½‘ç»œå±‚.png|500]]

### è½¬å‘å’Œè·¯ç”±é€‰æ‹©

**è½¬å‘**(forwarding)ï¼šè·¯ç”±å™¨å°†æ”¶åˆ°çš„åˆ†ç»„ç§»åŠ¨åˆ°é€‚å½“è¾“å‡ºé“¾è·¯çš„è¿‡ç¨‹ã€‚

**è·¯ç”±é€‰æ‹©**(routing)ï¼šç½‘ç»œä¸­çš„æ‰€æœ‰è·¯ç”±å™¨ç» *è·¯ç”±é€‰æ‹©åè®®* ååŒå†³å®šåˆ†ç»„ä»Žæºåˆ°ç›®çš„åœ°ç»“ç‚¹çš„å…·ä½“è·¯å¾„ã€‚

*è½¬å‘* æ˜¯ä¸€ä¸ªè·¯ç”±å™¨çš„åŠ¨ä½œï¼Œ*è·¯ç”±é€‰æ‹©* æ˜¯å…¨ç½‘ç»œèŒƒå›´çš„åŠ¨ä½œã€‚

**è½¬å‘è¡¨**ï¼šæ¯å°è·¯ç”±å™¨æŒæœ‰ï¼Œå®ƒæ£€æŸ¥åˆ°è¾¾åˆ†ç»„é¦–éƒ¨å­—æ®µçš„å€¼å¹¶æŸ¥è¯¢ *è½¬å‘è¡¨* è¿›è¡Œ *è½¬å‘*ã€‚

*è½¬å‘* çš„å†³å®šï¼š

- é“¾è·¯å±‚äº¤æ¢æœºåŸºäºŽ *é“¾è·¯å±‚* å­—æ®µçš„å€¼
- è·¯ç”±å™¨åŸºäºŽ *ç½‘ç»œå±‚* å­—æ®µçš„å€¼

### ç½‘ç»œæœåŠ¡æ¨¡åž‹

**ç½‘ç»œæœåŠ¡æ¨¡åž‹** å®šä¹‰äº†åˆ†ç»„åœ¨å‘é€ä¸ŽæŽ¥æ”¶ç«¯ç³»ç»Ÿä¹‹é—´çš„ç«¯åˆ°ç«¯è¿è¾“ç‰¹æ€§ã€‚

å› ç‰¹ç½‘çš„ç½‘ç»œå±‚æä¾› *å°½åŠ›è€Œä¸ºæœåŠ¡*ï¼›ATM ç½‘ç»œæä¾› **æ’å®šæ¯”ç‰¹çŽ‡(CBR) ATM ç½‘ç»œæœåŠ¡** å’Œ **å¯ç”¨æ¯”ç‰¹çŽ‡(ABR) ATM ç½‘ç»œæœåŠ¡**ã€‚

## è™šç”µè·¯å’Œæ•°æ®æŠ¥ç½‘ç»œ

*ç½‘ç»œå±‚* ä¹Ÿèƒ½æä¾›é¢å‘è¿žæŽ¥æœåŠ¡å’Œæ— è¿žæŽ¥æœåŠ¡ï¼Œä½†ä¸Ž *è¿è¾“å±‚* æœ‰æ‰€ä¸åŒï¼š

- åœ¨ *ç½‘ç»œå±‚* ä¸­ï¼Œè¿™äº›æœåŠ¡æ˜¯ç”±ç½‘ç»œå±‚å‘è¿è¾“å±‚æä¾›çš„ *ä¸»æœºåˆ°ä¸»æœº* çš„æœåŠ¡ï¼›è€Œåœ¨ *è¿è¾“å±‚* ä¸­ï¼Œè¿™äº›æœåŠ¡æ˜¯ç”±è¿è¾“å±‚å‘åº”ç”¨å±‚æä¾›çš„ *è¿›ç¨‹åˆ°è¿›ç¨‹* çš„æœåŠ¡ã€‚
- æ¯ç§ç½‘ç»œä½“ç³»ç»“æž„åªæä¾›é¢å‘è¿žæŽ¥æœåŠ¡ ==æˆ–== æ— è¿žæŽ¥æœåŠ¡ï¼Œåˆ†åˆ«ç§°ä¸º **è™šç”µè·¯(VC)ç½‘ç»œ**ã€**æ•°æ®æŠ¥(datagram)ç½‘ç»œ**ã€‚

### è™šç”µè·¯ç½‘ç»œ

é™¤å› ç‰¹ç½‘å¤–çš„å¾ˆå¤šå…¶ä»–ç½‘ç»œä½“ç³»ç»“æž„éƒ½æ˜¯ *è™šç”µè·¯ç½‘ç»œ*ï¼Œå®ƒä»¬åœ¨ç½‘ç»œå±‚çš„è¿žæŽ¥ç§°ä¸º *è™šç”µè·¯*ã€‚

*è™šç”µè·¯* çš„ 3 ä¸ªé˜¶æ®µï¼š*è™šç”µè·¯* å»ºç«‹ -> æ•°æ®ä¼ é€ -> *è™šç”µè·¯* æ‹†é™¤ã€‚

ä¸€æ¡ *è™šç”µè·¯* çš„ç»„æˆï¼š

- æºå’Œç›®çš„ä¸»æœºä¹‹é—´çš„ä¸€ç³»åˆ— *é“¾è·¯å’Œè·¯ç”±å™¨*
- æ¯æ®µé“¾è·¯çš„ *VC å·*
- æ¯å°è·¯ç”±å™¨çš„ *è½¬å‘è¡¨* è¡¨é¡¹

é€šè¿‡è™šç”µè·¯ä¼ è¾“çš„åˆ†ç»„åœ¨å…¶é¦–éƒ¨æºå¸¦ä¸€ä¸ª *VC å·*ï¼Œæ¯åˆ°è¾¾ä¸€ä¸ªè·¯ç”±å™¨ï¼ŒåŽè€…å°±ä»Žè½¬å‘è¡¨ä¸­èŽ·å–ä¸€ä¸ªæ–°çš„ VC å·å¹¶èµ‹ç»™åˆ†ç»„ã€‚è¿™æ ·åšçš„ç†ç”±ï¼š

- å‡å°‘åˆ†ç»„é¦–éƒ¨ä¸­ VC å­—æ®µçš„é•¿åº¦
- ç®€åŒ–è™šç”µè·¯çš„å»ºç«‹

*è™šç”µè·¯ç½‘ç»œ* ä¸­çš„è·¯ç”±å™¨éœ€è¦ä¸ºæ¯æ¡è¿žæŽ¥ç»´æŒ **è¿žæŽ¥çŠ¶æ€ä¿¡æ¯**ï¼Œæ¯è·¨è¶ŠæŸå°è·¯ç”±å™¨å»ºç«‹ä¸€ä¸ªæ–°è¿žæŽ¥ï¼Œå®ƒçš„ *è½¬å‘è¡¨* ä¸­å°±å¢žåŠ ä¸€é¡¹ï¼Œè¯¥è¿žæŽ¥æ‹†é™¤æ—¶ï¼Œè¯¥é¡¹éšä¹‹åˆ é™¤ã€‚

å¯¹æ¯” *è™šç”µè·¯* ä¸Ž *è¿è¾“å±‚çš„è¿žæŽ¥*ï¼š

- *è¿è¾“å±‚çš„è¿žæŽ¥* å»ºç«‹æ—¶ï¼Œä¸¤ä¸ªç«¯ç³»ç»Ÿå†³å®šå‚æ•°å¹¶çŸ¥æƒ…ï¼Œä¸­é—´è·¯ç”±å™¨å‡ä¸çŸ¥æƒ…ã€‚
- *è™šç”µè·¯* å»ºç«‹æ—¶ï¼Œéœ€è¦æ‰€æœ‰ä¸­é—´è·¯ç”±å™¨çš„å‚ä¸Žï¼Œå®ƒä»¬éƒ½çŸ¥æƒ…ã€‚

**ä¿¡ä»¤æŠ¥æ–‡**ï¼šæœ‰ç«¯ç³»ç»Ÿå‘ç½‘ç»œå‘é€æŒ‡ç¤ºè™šç”µè·¯å»ºç«‹ä¸Žæ‹†é™¤çš„æŠ¥æ–‡ï¼Œä»¥åŠè·¯ç”±å™¨ä¹‹é—´ä¼ é€’çš„ç”¨äºŽå»ºç«‹ä¸Žæ‹†é™¤è™šç”µè·¯çš„æŠ¥æ–‡ã€‚

**ä¿¡ä»¤åè®®**ï¼šäº¤æ¢ *ä¿¡ä»¤æŠ¥æ–‡* çš„åè®®ã€‚

### æ•°æ®æŠ¥ç½‘ç»œ

åœ¨ *æ•°æ®æŠ¥ç½‘ç»œ* ä¸­ï¼Œæ¯å½“ç«¯ç³»ç»Ÿè¦å‘é€åˆ†ç»„ï¼Œå®ƒåªéœ€ä¸ºå…¶åŠ ä¸Šé¦–éƒ¨æŽ§åˆ¶ä¿¡æ¯ï¼Œç„¶åŽå°†å…¶æŽ¨è¿›ç½‘ç»œï¼Œæ¯å°ä¸­é—´è·¯ç”±å™¨æŸ¥è¯¢å…¶è½¬å‘è¡¨ä»¥è½¬å‘åˆ†ç»„ã€‚

å‡è®¾ä¸€å°è·¯ç”±å™¨æœ‰ 4 ä¸ªå‡ºé“¾è·¯ï¼Œå…¶è½¬å‘è¡¨å¦‚ä¸‹ï¼š

![[Snipaste_240423_190749.png|400]]

æœ‰ä¸€ä¸ªåˆ°è¾¾åˆ†ç»„çš„ç›®çš„åœ°å€ä¸º `11001000 00010111 00011000 10101010`ï¼Œå®ƒå°†ç”± **æœ€é•¿å‰ç¼€åŒ¹é…è§„åˆ™** è¢«åŒ¹é…åˆ°è¾“å‡ºé“¾è·¯ $1$ã€‚

å¯¹æ¯” *æ•°æ®æŠ¥ç½‘ç»œ* å’Œ *è™šç”µè·¯ç½‘ç»œ* çš„è½¬å‘è¡¨æ›´æ–°ï¼š

- *è™šç”µè·¯ç½‘ç»œ* åœ¨æœ‰ç»è¿‡è·¯ç”±å™¨çš„è¿žæŽ¥å»ºç«‹æˆ–æ‹†é™¤æ—¶æ›´æ–°
- *æ•°æ®æŠ¥ç½‘ç»œ* æ¯ $1$ ~ $5$ åˆ†é’Ÿè¿è¡Œä¸€æ¬¡è·¯ç”±é€‰æ‹©ç®—æ³•æ›´æ–°

### è™šç”µè·¯å’Œæ•°æ®æŠ¥ç½‘ç»œçš„ç”±æ¥

*è™šç”µè·¯ç½‘ç»œ* æ¯” *æ•°æ®æŠ¥ç½‘ç»œ* å¤æ‚ã€‚

*å› ç‰¹ç½‘* ä½œä¸ºä¸€ç§æ•°æ®æŠ¥ç½‘ç»œï¼Œå¾ˆå¤šé¢å¤–åŠŸèƒ½ï¼ˆå¯é æ•°æ®ä¼ è¾“ã€æ‹¥å¡žæŽ§åˆ¶ã€DNSï¼‰åœ¨ç«¯ç³»ç»Ÿçš„æ›´é«˜å±‚å®žçŽ°ï¼Œå› è€Œå…¶å®žçŽ°ç®€å•ã€æ˜“äºŽæ‰©å±•ã€‚

## è·¯ç”±å™¨å·¥ä½œåŽŸç†

è·¯ç”±å™¨ä½“ç³»ç»“æž„ï¼š

![[Snipaste_240423_191530.png|600]]

**è·¯ç”±é€‰æ‹©å¤„ç†å™¨** æ‰§è¡Œ *è·¯ç”±é€‰æ‹©åè®®*ï¼Œç»´æŠ¤ *è·¯ç”±é€‰æ‹©è¡¨* å’Œè¿žæŽ¥çš„çŠ¶æ€ä¿¡æ¯ï¼Œè®¡ç®— *è½¬å‘è¡¨*ï¼Œå¹¶æ‰§è¡Œç½‘ç»œç®¡ç†åŠŸèƒ½ã€‚

**è¾“å…¥ç«¯å£**ã€**è¾“å‡ºç«¯å£** å’Œ **äº¤æ¢ç»“æž„** å…±åŒå®žçŽ°äº†è½¬å‘åŠŸèƒ½ï¼Œæ€»ç§°å…¶ä¸º **è·¯ç”±å™¨è½¬å‘å¹³é¢**ï¼Œå…¶ä¸º *ç¡¬ä»¶å®žçŽ°*ï¼ˆå› ä¸ºè¿œå¿«äºŽè½¯ä»¶å®žçŽ°ï¼‰ã€‚

ç§°è·¯ç”±å™¨çš„æŽ§åˆ¶åŠŸèƒ½ä¸º **è·¯ç”±å™¨æŽ§åˆ¶å¹³é¢**ï¼Œå…¶ä¸º *è½¯ä»¶å®žçŽ°*ã€‚

### è¾“å…¥ç«¯å£

è·¯ç”±å™¨ä½¿ç”¨ *è½¬å‘è¡¨* æŸ¥è¯¢è¾“å‡ºç«¯å£ï¼Œè€Œ *è¾“å…¥ç«¯å£* å­˜æœ‰è¡¨çš„ä¸€ä¸ªå‰¯æœ¬ã€‚

![[Snipaste_240423_192130.png|500]]

æŸ¥è¯¢éœ€ç”¨æžå¿«çš„ç¡¬ä»¶è¿›è¡Œï¼Œé€šå¸¸ä½¿ç”¨ **ä¸‰æ€å†…å®¹å¯å¯»å€å­˜å‚¨å™¨**(TCAM)ã€‚

### äº¤æ¢ç»“æž„

äº¤æ¢çš„å®Œæˆæ–¹å¼ï¼š

- ç»å†…å­˜ï¼šåŒä¸€æ—¶é—´åªèƒ½æ‰§è¡Œä¸€ä¸ªå†…å­˜è¯»å†™ï¼ˆå³è½¬å‘ä¸€ä¸ªåˆ†ç»„ï¼‰ã€‚
	- è®°å†…å­˜å¸¦å®½ä¸ºè¯»å†™ $B$ åˆ†ç»„/ç§’ï¼Œåˆ™æ€»çš„è½¬å‘åžåé‡ $\leqslant$ $\large \frac{B}{2}$ åˆ†ç»„/ç§’ã€‚
- ç»æ€»çº¿ï¼šåŒä¸€æ—¶é—´åªå…è®¸ä¸€ä¸ªåˆ†ç»„é€šè¿‡æ€»çº¿ã€‚
- ç»äº’è”ç½‘ç»œï¼šå¯ä»¥å¹¶è¡Œè½¬å‘å¤šä¸ªåˆ†ç»„ã€‚

![[Snipaste_240427_150331.png|600]]

### è¾“å‡ºç«¯å£

![[Snipaste_240427_150728.png|500]]

### ä½•å¤„å‡ºçŽ°æŽ’é˜Ÿ

å‘ç”Ÿå¤„ç†ç¼“æ…¢çš„éƒ¨ä½â€”â€”

- äº¤æ¢ç»“æž„ => è¾“å…¥ç«¯å£æŽ’é˜Ÿ
- è¾“å‡ºç«¯å£ => è¾“å‡ºç«¯å£æŽ’é˜Ÿ

**çº¿è·¯å‰éƒ¨(HOL)é˜»å¡ž**ï¼šåœ¨ä¸€ä¸ªè¾“å…¥é˜Ÿåˆ—ä¸­æŽ’é˜Ÿçš„åˆ†ç»„è¢«ä½äºŽçº¿è·¯å‰éƒ¨çš„å¦ä¸€ä¸ªåˆ†ç»„æ‰€é˜»å¡žï¼Œè€Œä¸å¾—ä¸ç­‰å¾…é€šè¿‡äº¤æ¢ç»“æž„ï¼Œå³ä½¿è¾“å‡ºç«¯å£æ˜¯ç©ºé—²çš„ã€‚

![[Snipaste_240427_151004.png|500]]

### è·¯ç”±é€‰æ‹©æŽ§åˆ¶å¹³é¢

## ç½‘é™…åè®®ï¼šå› ç‰¹ç½‘ä¸­çš„è½¬å‘å’Œç¼–å€

### æ•°æ®æŠ¥æ ¼å¼

![[Snipaste_240429_132821.png|500]]

> [!todo] è§£é‡Šå…³é”®å­—æ®µ

![[MSS ä¸Ž MTU.png|600]]

#### IP æ•°æ®æŠ¥åˆ†ç‰‡

æ•°æ®æŠ¥æ‰€ç»è·¯å¾„ä¸Šæ¯æ®µé“¾è·¯çš„ *MTU* å¯èƒ½ä¸åŒï¼Œå› æ­¤ä¼ è¾“æ—¶å°†å…¶åˆ†ä¸ºè‹¥å¹²ç‰‡ï¼Œç”±æŽ¥æ”¶æ–¹ç«¯ç³»ç»Ÿè´Ÿè´£é‡æ–°ç»„è£…ã€‚

> message -> package -> datagram -> fragment -> frame

![[Snipaste_240429_133230.png|500]]

- å‘é€ä¸»æœºå°†æ¯ä¸ªæ•°æ®æŠ¥çš„ *æ ‡è¯†å·* é€’å¢ž `1`ï¼ˆåŒä¸€æ•°æ®æŠ¥çš„ä¸åŒåˆ†ç‰‡ï¼Œå…¶ *æ ‡è¯†å·* ä¸ŽåŽŸæ•°æ®æŠ¥ç›¸åŒï¼‰
- å‡è®¾æœ‰ `n` ä¸ªåˆ†ç‰‡ï¼Œåˆ™å‰ `n - 1` çš„ *æ ‡å¿—æ¯”ç‰¹* å‡ä¸º `1`ï¼Œè€Œæœ€åŽä¸€ä¸ªä¸º `0`ï¼Œè¡¨ç¤ºæœ¬æ•°æ®æŠ¥çš„ç»“æŸï¼›ä¸”å‰ `n - 1` ä¸ªå‡ä¸ºå®šé•¿ï¼Œæœ€åŽä¸€ä¸ªè¡¥å……ä½™é‡
- ç”¨ *åç§»å­—æ®µ* æ ‡è¯†æ¯ä¸ªç‰‡æ‰€åœ¨åŽŸæ•°æ®æŠ¥ä¸­çš„ä½ç½®ï¼Œå®ƒå¿…é¡»ä¸º `8` çš„å€æ•°ï¼ˆåç§»å€¼ $\times$ `8` $=$ å­—èŠ‚æ•°ï¼‰

å‘é€ä¸€ä¸ªæ€»é•¿ `4000` å­—èŠ‚çš„æ•°æ®æŠ¥ï¼š

![[Snipaste_240429_133320.png|600]]

æ•°æ®æŠ¥çš„ *æœ‰æ•ˆè½½è·* ä»…åœ¨æ‰€æœ‰åˆ†ç‰‡æˆåŠŸé‡æž„æ—¶å‘ä¸Šäº¤ç»™è¿è¾“å±‚ï¼Œå¦‚æžœæŽ¥æ”¶åˆ°çš„åˆ†ç‰‡ä¸å®Œæ•´ï¼Œå°†ç›´æŽ¥ä¸¢å¼ƒã€‚

*IPv6* åºŸæ­¢äº†åˆ†ç‰‡æœºåˆ¶ã€‚

### IPv4 ç¼–å€

**æŽ¥å£**ï¼šä¸»æœºä¸Žç‰©ç†é“¾è·¯ä¹‹é—´çš„è¾¹ç•Œã€‚

ä¸€ä¸ª IP åœ°å€ä¸Žä¸€ä¸ª *æŽ¥å£* ç›¸å…³è”ï¼Œè€Œä¸æ˜¯ä¸€å°è·¯ç”±å™¨æˆ–ä¸»æœºã€‚

**å­ç½‘**ï¼šä¸‹å›¾ä¸­çš„ 3 ä¸ªè“è‰²é˜´å½±éƒ¨åˆ†ã€‚

![[Snipaste_240429_134303.png|500]]

ä¸Šå›¾ä¸­æœ€å·¦ä¾§çš„ *å­ç½‘* æœ‰ç€ IP åœ°å€ `223.1.1.0/24`ï¼Œå…¶ä¸­çš„ `/24` ä¸º **å­ç½‘æŽ©ç **ï¼Œæ„ä¸º 32 æ¯”ç‰¹çš„å·¦ä¾§ 24 æ¯”ç‰¹å®šä¹‰äº† *å­ç½‘* åœ°å€ã€‚

> [!tip] è®¡ç®—æŸå­ç½‘çš„ç½‘ç»œåœ°å€ã€å¹¿æ’­åœ°å€ã€ä¸»æœºåœ°å€èŒƒå›´ã€ä¸»æœºæ•°é‡
> 
> å·²çŸ¥ä»»ä¸€æŽ¥å£çš„ IP åœ°å€ `ip` å’Œå­ç½‘æŽ©ç  `mask`ï¼š
> 
> - `ç½‘ç»œåœ°å€ = ip & mask`
> - `å¹¿æ’­åœ°å€ = network_addr | (!mask)`
> - ä¸»æœºåœ°å€èŒƒå›´ä¸º `(ç½‘ç»œåœ°å€ + 1)..=(å¹¿æ’­åœ°å€ - 1)`
> - ä¸»æœºæ•°é‡ä¸º `2 ** ä¸»æœºä½æ•° - 2`

ä¸‹å›¾ä¸­åˆ™æœ‰ 6 ä¸ª *å­ç½‘*ï¼šåŒ…æ‹¬ 3 ä¸ªè·¯ç”±å™¨ä¸¤ä¸¤ä¹‹é—´çš„ç½‘ç»œã€‚

![[Snipaste_240429_134545.png|400]]

å› ç‰¹ç½‘çš„åœ°å€åˆ†é…ç­–ç•¥ç§°ä¸º **æ— ç±»åˆ«åŸŸé—´è·¯ç”±é€‰æ‹©**(CIDR)ã€‚

`255.255.255.255` ä¸º **IP å¹¿æ’­åœ°å€**ï¼Œå…¶ä¸ºç›®çš„åœ°å€æ—¶ï¼Œè¯¥æ•°æ®æŠ¥å°†ä¼ è¾“åˆ°æ‰€åœ¨ç½‘ç»œä¸­çš„æ‰€æœ‰ä¸»æœºã€‚

> [!question] ä¸»æœºå’Œå­ç½‘æœ€åˆå¦‚ä½•å–å¾—è‡ªèº«çš„åœ°å€ï¼Ÿ

1. èŽ·å–ä¸€å—åœ°å€

IP åœ°å€ç”± **å› ç‰¹ç½‘åå­—å’Œç¼–å·åˆ†é…æœºæž„**(ICANN) ç®¡ç†ï¼Œå®ƒå‘å„ *ISP* åˆ†é…ä¸€äº›åœ°å€ï¼Œå†ç”± ISP åˆ†å‘ç»™ä¸‹çº§ç»„ç»‡ã€‚

![[Snipaste_240429_204638.png|600]]

2. èŽ·å–ä¸»æœºåœ°å€ï¼šåŠ¨æ€ä¸»æœºé…ç½®åè®®

ç»„ç»‡ä¸ºå…¶ä¸­çš„ä¸»æœºå’Œè·¯ç”±å™¨æŽ¥å£é€ä¸ªåˆ†é…åœ°å€ï¼Œç”± **åŠ¨æ€ä¸»æœºé…ç½®åè®®**(DHCP) è‡ªåŠ¨å®Œæˆï¼Œå®ƒæ˜¯ä¸€ç§ *å³æ’å³ç”¨åè®®*ã€‚

æ¯ä¸ª *å­ç½‘* æœ‰è‹¥å¹² *DHCP* æœåŠ¡å™¨ã€‚

å­ç½‘ä¸­æ–°åˆ°è¾¾çš„ä¸»æœºé€šè¿‡ 4 æ­¥èŽ·å–å…¶ IP åœ°å€ï¼š

![[Snipaste_240429_205147.png|500]]

*DHCP* çš„ä¸è¶³ï¼šå­ç½‘ä¸­ä¸€ä¸ªåœ°ç†ä¸Šç§»åŠ¨çš„ç»“ç‚¹å°†ä¸æ–­å¾—åˆ°æ–°çš„ IP åœ°å€ï¼Œæ— æ³•ç»´æŒä¸Žè¿œç¨‹åº”ç”¨é—´çš„ TCP è¿žæŽ¥ã€‚

3. ç½‘ç»œåœ°å€è½¬æ¢

**ç½‘ç»œåœ°å€è½¬æ¢**(NAT) éšè—å†…éƒ¨ä¸»æœºçš„åœ°å€ï¼Œè€Œå¯¹å¤–ç•Œæš´éœ²ä¸€ä¸ªå½¢å¦‚ `10.*.*.*` çš„åœ°å€ï¼Œå…¶åœ°å€ç©ºé—´ä¸º `10.0.0.0/8`ã€‚

NAT è·¯ç”±å™¨å¯¹å¤–ç•Œçš„è¡Œä¸ºå¦‚åŒä¸€ä¸ªå…·æœ‰å•ä¸€ IP åœ°å€çš„å•ä¸€è®¾å¤‡ï¼Œå®ƒä½¿ç”¨ä¸€å¼  **NAT è½¬æ¢è¡¨** å†³å®šå°†æ”¶åˆ°çš„åˆ†ç»„è½¬å‘ç»™å“ªå°å†…éƒ¨ä¸»æœºï¼ˆ`{ç«¯å£å·, IP/ç«¯å£å·}`ï¼‰ã€‚

*NAT* å¦¨ç¢ *P2P* ç¨‹åºã€‚

4. UPnP

**é€šç”¨å³æ’å³ç”¨**(UPnP) å…è®¸å¤–éƒ¨ä¸»æœºä½¿ç”¨ TCP æˆ– UDP å‘ *NAT åŒ–* çš„ä¸»æœºå‘èµ·é€šä¿¡ä¼šè¯ã€‚

### å› ç‰¹ç½‘æŽ§åˆ¶æŠ¥æ–‡åè®®

> [!todo] P236

### IPv6

#### IPv6 æ•°æ®æŠ¥æ ¼å¼

![[Snipaste_240508_093031.png|500]]

- åœ°å€é•¿åº¦ç”± $32$ æ¯”ç‰¹å¢žåŠ åˆ° $128$ æ¯”ç‰¹
- ç®€åŒ–é«˜æ•ˆçš„ $40$ å­—èŠ‚é¦–éƒ¨

#### ä»Ž IPv4 åˆ° IPv6 çš„è¿ç§»

**åŒæ ˆ**(dual-stack) å’Œ **å»ºéš§é“**ã€‚

> [!todo] SDN (PPT)

### æ¶‰è¶³ IP å®‰å…¨æ€§

> [!todo] P242

## è·¯ç”±é€‰æ‹©ç®—æ³•