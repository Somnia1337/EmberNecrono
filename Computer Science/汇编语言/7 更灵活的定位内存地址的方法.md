ğŸ‘ˆ [[6 åŒ…å«å¤šä¸ªæ®µçš„ç¨‹åº]]

### and å’Œ or æŒ‡ä»¤

and æŒ‡ä»¤ï¼šæŒ‰ä½ä¸ã€‚

```asmatmel
mov al, 01100011B
and al, 00111011B
```

æ‰§è¡Œå AL = `00100011B`ã€‚

or æŒ‡ä»¤ï¼šæŒ‰ä½æˆ–ã€‚

```asmatmel
mov al, 01100011B
or al, 00111011B
```

æ‰§è¡Œå AL = `01111011B`ã€‚

### å…³äº ASCII ç 

### ä»¥å­—ç¬¦å½¢å¼ç»™å‡ºçš„æ•°æ®

ç”¨ `'...'` çš„å½¢å¼æŒ‡æ˜æ•°æ®æ˜¯ä»¥å­—ç¬¦å½¢å¼ç»™å‡ºçš„ï¼Œç¼–è¯‘å™¨å°†å®ƒä»¬è½¬æ¢æˆå¯¹åº”çš„ ASCII ç ã€‚

```asmatmel
assume cs:code, ds:data

data segment
	db 'unIX'
	db 'foRK'
data ends

code segment
start:  mov al, 'a'
		mov bl, 'b'
		mov ax, 4C00H
		int 21H
code ends
end start
```

`db unIX` ç›¸å½“äº `db 75H, 6EH, 49H, 58H`ï¼Œå…¶ä½™åŒç†ã€‚

### å¤§å°å†™è½¬æ¢çš„é—®é¢˜

è¡¥å…… `code` æ®µï¼Œå°† `data` æ®µçš„ç¬¬ä¸€ä¸ªå­—ç¬¦ä¸²è½¬æ¢ä¸ºå¤§å†™ï¼Œç¬¬äºŒä¸ªè½¬æ¢ä¸ºå°å†™ã€‚

```asmatmel
assume cs:code, da:data

data segment
	db 'BaSiC'
	db 'iNfOrMaTiOn'
data ends

code segment
start:  ; todo
code ends
end start
```

åªéœ€èƒ½å¤Ÿåˆ¤æ–­ä¸€ä¸ªå­—æ¯çš„å¤§å°å†™ï¼Œç„¶åå¯¹å¤§å†™å­—æ¯åŠ ä¸Š `20H` å³å¯å¾—åˆ°å¯¹åº”å°å†™å­—æ¯ï¼ˆåä¹‹äº¦ç„¶ï¼‰ï¼š

```asmatmel
code segment
start:  mov ax, data
		mov ds, ax
		mov bx, 0
		mov cx, 5
s:      mov al, [bx]
		; å¦‚æœ (al)>61H, å³ä¸ºå°å†™å­—æ¯, åˆ™ sub al, 20H
		mov [bx], al
		inc bx
		loop s
code ends
end start
```

è¿™æ®µåˆ¤æ–­å¤§å°å†™çš„ä»£ç æ— æ³•ç”¨å·²å­¦æŒ‡ä»¤å®ç°ã€‚é‡æ–°è§‚å¯Ÿï¼Œå‘ç°åœ¨äºŒè¿›åˆ¶å½¢å¼ä¸‹ï¼Œé™¤ç¬¬ 5 ä½å¤–ï¼ˆå¤§å†™ä¸º `0`ï¼Œå°å†™ä¸º `1`ï¼‰ï¼Œå…¶ä»–å„ä½éƒ½ä¸€æ ·ã€‚

```asmatmel
code segment
start:  mov ax, data
		mov ds, ax
		mov bx, 0
		
		mov cx, 5
s:      mov al, [bx]
		and al, 11011111B
		mov [bx], al
		inc bx
		loop s
		
		mov bx, 5
		
		mov cx, 11
s0:     mov al, [bx]
		or al, 00100000B
		mov [bx], al
		inc bx
		loop s0
		
		mov ax, 4C00H
		int 21H
code ends
end start
```

### `[bx + idata]`

`[bx + idata]` è¡¨ç¤ºä¸€ä¸ªå†…å­˜å•å…ƒï¼Œå…¶åç§»åœ°å€ä¸º `(bx) + idata`ï¼Œæ®µåœ°å€é»˜è®¤ä¸º `(ds)`ã€‚

ä»¥ä¸‹æŒ‡ä»¤éƒ½æ˜¯ç­‰æ•ˆçš„ï¼š

```asmatmel
mov ax, [bx+200]
mov ax, [200+bx]
mov ax, 200[bx]
mov ax, [bx].200
```

### ç”¨ `[bx + idata]` çš„æ–¹å¼è¿›è¡Œæ•°ç»„çš„å¤„ç†

é‡å¤å¤§å°å†™è½¬æ¢çš„é—®é¢˜ï¼Œä½†æ˜¯ç”¨ `[bx + idata]` è¿›è¡Œç®€åŒ–ï¼š

```asmatmel
code segment
start:  mov ax, data
		mov ds, ax
		mov bx, 0
		
		mov cx, 5
s:      mov al, [bx]
		and al, 11011111B
		mov [bx], al
		mov al, [5+bx]
		or al, 00100000b
		mov [5+bx], al
		inc bx
		loop s
		
		mov ax, 4C00H
		int 21H
code ends
end start
```

ç”¨ C æè¿°ï¼š

```c
main() {
	for (int i = 0; i < 5; i++) {
		a[i] &= 0xDF;
		b[i] |= 0x20;
	}
}
```

### SI å’Œ DI

SI å’Œ DI æ˜¯ä¸ BX åŠŸèƒ½ç›¸è¿‘çš„å¯„å­˜å™¨ï¼Œä¸è¿‡å®ƒä»¬ä¸èƒ½åˆ†ä¸ºä¸¤ä¸ª $8$ ä½å¯„å­˜å™¨ä½¿ç”¨ã€‚

ä»¥ä¸‹æŒ‡ä»¤éƒ½æ˜¯ç­‰æ•ˆçš„ï¼š

```asmatmel
mov bx, 0
mov ax, [bx]
; å’Œ
mov si, 0
mov ax, [si]
; è¿˜æœ‰
mov di, 0
mov ax, [di]
```

### `[bx + si]` å’Œ `[bx + di]`

`[bx + si]` è¡¨ç¤ºä¸€ä¸ªå†…å­˜å•å…ƒï¼Œå…¶åç§»åœ°å€ä¸º `(bx) + (si)`ï¼Œæ®µåœ°å€é»˜è®¤ä¸º `(ds)`ã€‚

### `[bx + si + idata]` å’Œ `[bx + di + idata]`

ä¸ä¸Šè¿°ç±»ä¼¼ã€‚

### ä¸åŒçš„å¯»å€æ–¹å¼çš„çµæ´»åº”ç”¨

è¡¥å…… `code` æ®µï¼Œå°† `data` æ®µä¸­æ¯ä¸ªå•è¯æ”¹ä¸ºå¤§å†™ï¼š

```asmatmel
assume cs:code, ds:data
data segment
	db 'ibm             ' ; é•¿ä¸º 16 Byte
	db 'dec             '
	db 'dos             '
	db 'vax             '
data ends

code segment
start:  ; todo
		
		mov ax, 4C00H
		int 21H
code ends
end start
```

è¿›è¡Œ $4 \times 3$ çš„äºŒé‡å¾ªç¯ï¼š

```asmatmel
start:  mov ax, data
		mov ds, ax
		mov bx, 0
		
		mov cx, 4
s0:     mov si, 0
		
		mov cx, 3
s:      mov al, [bx+si]
		and al, 11011111B
		mov [bx+si], al
		inc si
		loop s
		
		add bx, 16
		loop s0
```

é—®é¢˜åœ¨äºï¼ŒäºŒé‡å¾ªç¯ä½¿ç”¨äº†åŒä¸€ä¸ªè®¡æ•°å™¨ CXï¼Œä»è€Œå†…å±‚å¾ªç¯ `s` å°†è¦†å†™å¤–å±‚å¾ªç¯ `s0` çš„ CXï¼Œè€Œ loop é»˜è®¤ CX ä¸ºè®¡æ•°å™¨ä½¿å¾—ä¸å¯èƒ½å†ç”¨å¦ä¸€ä¸ªè®¡æ•°å™¨ã€‚

åªéœ€åœ¨ `s` å¼€å§‹å‰å°† `s0` çš„è®¡æ•°å™¨ä¿å­˜ï¼Œæ¯æ¬¡ `s` å¾ªç¯ä¹‹åå†æ¢å¤åˆ° CXã€‚ä¸è¿‡ä¿å­˜åˆ°å¦ä¸€ä¸ªå¯„å­˜å™¨ä¹Ÿä¸åˆé€‚ï¼Œè€Œåº”ä¿å­˜åœ¨å†…å­˜ä¸­ï¼Œæ ˆå¯¹äºè¿™ç§åµŒå¥—çš„ç»“æ„æœ€ä¸ºåˆé€‚ï¼š

```asmatmel
; ...
data ends

stack segment
	dw 0, 0, 0, 0, 0, 0, 0, 0
stack ends

code segment
start:  mov ax, data
		mov ds, ax
		mov bx, 0
		
		mov ax, stack
		mov ss, ax
		mov sp, 16
		
		mov cx, 4
s0:     push cx ; ä¿å­˜ s0 çš„ CX
		mov si, 0
		mov cx, 3
s:      mov al, [bx+si]
		and al, 11011111B
		mov [bx+si], al
		inc si
		loop s
		
		add bx, 16
		pop cx ; æ¢å¤ s0 çš„ CX
		loop s0
		
		mov ax, 4C00H
		int 21H
; ...
```

ğŸ‘‰ [[8 æ•°æ®å¤„ç†çš„ä¸¤ä¸ªåŸºæœ¬é—®é¢˜]]