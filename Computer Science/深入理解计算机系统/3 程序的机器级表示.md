### ç»ƒä¹ 

#### 3.1 âœ…

- `0x100`
- `0xAB`
- `0x108`
- `0xFF`
- `0xAB`
- `0x11`
- `0x13`
- `0xFF`
- `0x11`

#### 3.2 âœ…

- `movl`
- `movw`
- `movb`
- `movb`
- `movq`
- `movw`

#### 3.3 âœ…

- æœªçŸ¥é•¿åº¦ {ä¸èƒ½ä½¿ç”¨ `%ebx` ä½œä¸ºåœ°å€å¯„å­˜å™¨}
- åº”ä¸º `movq`
- æœªçŸ¥é•¿åº¦ {æºå’Œç›®çš„åœ°ä¸èƒ½åŒæ—¶ä¸ºå†…å­˜å¼•ç”¨}
- ï¼Ÿ{æ²¡æœ‰æ‰€è°“çš„ `%sl` å¯„å­˜å™¨}
- æºå’Œç›®æ ‡å†™å {ç«‹å³æ•°ä¸èƒ½ä½œä¸ºåœ°å€}
- åº”ä¸º `movq`ï¼Ÿ{ç›®çš„åœ°å¯„å­˜å™¨å¤§å°é”™è¯¯}
- åº”ä¸º `movw`ï¼Ÿ

#### 3.4 ~ 3.5 ðŸš«

#### 3.6 âœ…

- `x + 6`
- `x + y`
- `x + 4*y`
- `9*x + 7`
- `4*y + 0xA`
- `x + 2*y + 9`

#### 3.7 âœ…

`5*x + 2*y + 8*z`

#### 3.8 âœ…

```text
addq %rcx, (%rax) ; 0x100 -> 0x100
subq %rdx, 8(%rax) ; 0x108 -> 0xA8
imulq $16, (%rax, %rdx, 8) ; 0x118 -> 272(0x110)
incq 16(%rax) ; 0x110 -> 0x14
decq %rcx ; %rcx -> 0
subq %rdx, %rax ; %rax -> 0xFD
```

#### 3.9 âœ…

```text
shift_left4_rightn:
  movq %rdi, %rax ; Get x
  SAL $4, %rax    ; x <<= 4
  movl %esi, %ecx ; Get n (4 bytes)
  SAR %ecx, %rax  ; x >>= n
```

- ~~`SAL`~~ {`salq`}
- ~~`SAR %ecx, %rax`~~ {`sarq %cl, %rax`ï¼Œåªæœ‰æœ€ä½Žä½å­—èŠ‚æŒ‡ç¤ºä½ç§»é‡}

#### 3.10 ðŸš«

#### 3.11 âœ…

A. å®ƒå°† RDX ç½®ä¸º `0`ã€‚

B. `movq $0, %rdx`ã€‚

C. {`xorq` çš„ç‰ˆæœ¬éœ€è¦ 3 å­—èŠ‚ï¼Œ`movq` çš„ç‰ˆæœ¬éœ€è¦ 7 å­—èŠ‚}

#### 3.12 ~ 3.15 ðŸš«

#### 3.16 âœ…

A.

```c
void cond(long a, long *p) {
/*  
	if (p && a > *p)
		goto update;
	return;
update:
	*p = a;
*/
	if (p == 0)
		goto done;
	if (a <= *p)
		goto done;
	*p = a;
done:
	return;
}
```

B. å› ä¸ºæ­¤å¤„çš„ `if` è¯­å¥æœ‰ 2 ä¸ªæ¡ä»¶åˆ¤æ–­å­å¥ï¼Œå¿…é¡»éƒ½æ»¡è¶³æ‰æ‰§è¡Œã€‚

#### 3.17 âœ…

A.

```c
long gotodiff_se(long x, long y) {
	long result;
	if (x < y)
		goto x_lt_y;
	ge_cnt++;
	result = x - y;
	goto done;
x_lt_y:
	lt_cnt++;
	result = y - x;
done:
	return result;
}
```

B. åŽŸå…ˆçš„å½¢å¼åœ¨åªæœ‰ `if` è€Œæ²¡æœ‰ `else` çš„æƒ…å†µæ›´ç®€æ´ã€‚

#### 3.18 ðŸš«

#### 3.19 âœ…

A. çº¦ä¸º $30$ ä¸ªæ—¶é’Ÿå‘¨æœŸã€‚

B. $46$ ä¸ªæ—¶é’Ÿå‘¨æœŸã€‚

#### 3.20 ~ 3.28 ðŸš«

#### 3.29 âœ…

A.

```c
long sum = 0;
long i = 0;
while (i < 10) {
	if (i & 1)
		continue; // æ— é™å¾ªçŽ¯
	sum += i;
	i++;
}
```

å¦‚æžœåªæ˜¯ç®€å•ç¿»è¯‘åˆ° `while`ï¼Œå½“ `i` é¦–æ¬¡ä¸ºå¥‡æ•°æ—¶ï¼Œ`continue` å­å¥å°†å¯¼è‡´ `i++` æ›´æ–°å­å¥è¢«è·³è¿‡ï¼Œä»Žè€Œé™·å…¥æ­»å¾ªçŽ¯ã€‚

B.

```c
long sum = 0;
long i = 0;
while (i < 10) {
	if (i & 1)
		goto update;
	sum += i;
update:
	i++;
}
```

#### 3.30 ~ 3.31 ðŸš«